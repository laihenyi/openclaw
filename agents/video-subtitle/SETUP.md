# Video Subtitle Agent è¨­ç½®æŒ‡å—

## ğŸ“¦ å·²å®Œæˆé …ç›®

âœ… **SKILL.md** - Agent ä½¿ç”¨èªªæ˜
âœ… **agent.mjs** - Node.js ç¨‹å¼ä¸»é‚è¼¯
âœ… **README.md** - åŠŸèƒ½ä»‹ç´¹å’Œä½¿ç”¨ç¯„ä¾‹
âœ… **package.json** - NPM åŒ…å®šç¾©

## ğŸš€ ä½¿ç”¨æ–¹å¼

### é¸é … 1ï¼šä½œç‚ºç¨ç«‹ Agent é‹è¡Œ

**å„ªé»**ï¼š
- âœ… å¯ç›´æ¥åœ¨ Discord ä¸­å•Ÿå‹•
- âœ… å®Œæ•´çš„æ§åˆ¶æ¬Šé™
- âœ… ç¨ç«‹çš„è¨˜æ†¶å’Œä¸Šä¸‹æ–‡
- âœ… ä¸¦è¡Œè™•ç†å¤šå€‹ä»»å‹™

**ä½¿ç”¨æ­¥é©Ÿ**ï¼š
1. åœ¨ Discord Server ä¸­å‰µå»ºæ–°æ‡‰ç”¨
2. å•Ÿç”¨ Bot Token
3. é¸æ“‡ "Server" + "Message Content" æ„åœ–
4. è¨­ç½®å‘½ä»¤å‰ç¶´ï¼ˆå¦‚ `!`ï¼‰
5. éƒ¨ç½²ä¸¦æ¸¬è©¦

### é¸é … 2ï¼šé€é Gateway Routing æ•´åˆ

**å„ªé»**ï¼š
- âœ… çµ±ä¸€çš„æ¶ˆæ¯è·¯ç”±
- âœ… ä¸éœ€è¦å¯«é¡å¤–çš„ bot ç¨‹å¼
- âœ… å¯èˆ‡å…¶ä»– sub-agent ä¸¦è¡Œé‹ä½œ
- âœ… éˆæ´»é…ç½®

**ä½¿ç”¨æ­¥é©Ÿ**ï¼š
1. ç·¨è¼¯ Gateway routing é…ç½®
2. å°‡ `video-subtitle` agent è·¯ç”±åˆ°æŒ‡å®š Discord channel
3. ä½¿ç”¨ `!download` å’Œ `!subtitle` å‘½ä»¤
4. é€šé Gateway çµ±ä¸€ç®¡ç†

## ğŸ”§ é¸é … 1 é…ç½®ï¼ˆç¨ç«‹ Botï¼‰

### Discord Bot æ‡‰ç”¨è¨­ç½®

1. **å‰å¾€ Discord Developer Portal**ï¼š
   https://discord.com/developers/applications

2. **å‰µå»ºæ–°æ‡‰ç”¨**ï¼š
   - Name: Video Subtitle Agent
   - Description: ä¸‹è½½å½±ç‰‡å¹¶ç”Ÿæˆç¹ä½“ä¸­æ–‡å­—å¹•
   - Bot: âœ… æ˜¯
   - Intents:
     - Message Content
     - Server
     - Gateway

3. **ç”Ÿæˆ Bot Token**ï¼š
   - é»æ“Š "Reset Token"
   - è¤‡è£½ Tokenï¼ˆé‡è¦ï¼ä¿å­˜å¥½ï¼‰

4. **å®‰è£ä¾è³´**ï¼š
   ```bash
   cd ~/.openclaw/agents/video-subtitle
   npm install
   ```

5. **å•Ÿå‹• Bot**ï¼š
   ```bash
   # é–‹ç™¼æ¨¡å¼ï¼ˆæ¸¬è©¦ç”¨ï¼‰
   node agent.mjs
   # æˆ–ç”Ÿç”¢æ¨¡å¼
   node agent.mjs
   ```

6. **é‚€è«‹ Bot åˆ°ä¼ºæœå™¨**ï¼š
   - åœ¨ Discord ä¸­ç”Ÿæˆé‚€è«‹é€£çµ
   - å°‡ Bot åŠ å…¥ä½ çš„æ¸¬è©¦ä¼ºæœå™¨
   - è³¦äºˆç®¡ç†å“¡æ¬Šé™

7. **æ¸¬è©¦å‘½ä»¤**ï¼š
   ```
   !download https://www.youtube.com/watch?v=test
   !subtitle /path/to/video.mp4
   ```

## ğŸ”§ é¸é … 2 é…ç½®ï¼ˆGateway Routingï¼‰

### Gateway è¨­ç½®

ç·¨è¼¯ `~/.openclaw/openclaw.json`ï¼š

```json
{
  "routing": {
    "default": "main",
    "agents": {
      "video-subtitle": {
        "channel": "discord:YOUR_CHANNEL_ID",
        "agent": "video-subtitle"
      }
    }
  }
}
```

**é‡è¦**ï¼š
- å°‡ `YOUR_CHANNEL_ID` æ›¿æ›ç‚ºå¯¦éš›çš„ Discord Channel ID
- é‡å•Ÿ Gateway ä½¿é…ç½®ç”Ÿæ•ˆ

### æ¸¬è©¦

åœ¨ Discord ä¸­æ¸¬è©¦ï¼š
```
!download https://www.youtube.com/watch?v=test
```

## ğŸ“Š æ¯”è¼ƒ

| ç‰¹æ€§ | é¸é … 1ï¼ˆç¨ç«‹ Botï¼‰| é¸é … 2ï¼ˆGateway Routingï¼‰|
|------|----------------------|--------------------|
| **é–‹ç™¼è¤‡é›œåº¦** | ä¸­ç­‰ï¼ˆéœ€è¦å¯« botï¼‰| ä½ï¼ˆåªéœ€é…ç½®ï¼‰|
| **éˆæ´»æ€§** | â­â­â­ é«˜ï¼ˆå®Œå…¨è‡ªè¨‚ï¼‰| ä¸­ï¼ˆå—é™æ–¼ Gateway åŠŸèƒ½ï¼‰|
| **ä¸¦è¡Œèƒ½åŠ›** | âœ… æ”¯æŒ | âœ… æ”¯æŒ |
| **çµ±ä¸€ç®¡ç†** | âŒ ç¨ç«‹ | âœ… çµ±ä¸€ |
| **èˆ‡å…¶ä»– sub-agent æ•´åˆ** | éœ€é¡å¤–é–‹ç™¼ | âœ… åŸç”Ÿæ”¯æŒ |

## ğŸ’¡ å»ºè­°

**å¦‚æœä½ æ˜¯åˆå­¸è€…**ï¼šå»ºè­°å…ˆå¾ **é¸é … 1** é–‹å§‹ï¼Œç›´æ¥ç”¨ Discord.js bot

**å¦‚æœä½ å·²æœ‰ OpenClaw Gateway**ï¼šå»ºè­°ç”¨ **é¸é … 2**ï¼Œé€é routing åŠŸèƒ½æ•´åˆ

**æœ€ä½³å¯¦è¸**ï¼š
- ä¸» Agent çµ±ä¸€ç®¡ç†æ‰€æœ‰ sub-agent
- æ¯å€‹ sub-agent å°ˆæ³¨ä¸€å€‹é ˜åŸŸ
- é€é Gateway çš„ routing åŠŸèƒ½çµ±ä¸€æ¶ˆæ¯è·¯ç”±

## ğŸ“ å¾ŒçºŒé–‹ç™¼

### å¯èƒ½çš„æ“´å……åŠŸèƒ½
- ğŸ”— æ”¯æ´æ›´å¤šå½±ç‰‡ç¶²ç«™ï¼ˆTwitterã€Facebook Videoï¼‰
- ğŸ¨ è±å¾µæ¨£å¼é¸æ“‡ï¼ˆå­—é«”ã€é¡è‰²ã€ä½ç½®ï¼‰
- ğŸ“Š ä¸‹è¼‰çµ±è¨ˆå’Œç®¡ç†
- ğŸ”„ çºŒæ€§å­—å¹•æ›´æ–°ï¼ˆç›£æ§éŒ¯èª¤å­—ï¼‰

### é…ç½®é¸é …
- **GPU æ¨¡å¼**ï¼šä¿®æ”¹ `whisper_subtitle.py` ä¸­çš„ GPU è¨­ç½®
- **å­—å¹•æ¨£å¼**ï¼šæ·»åŠ å­—å¹•æ¨£å¼é…ç½®ï¼ˆCSSï¼‰
- **å­—å¹•èªè¨€**ï¼šæ”¯æ´æ›´å¤šèªè¨€ï¼ˆè‹±æ–‡ã€æ—¥æ–‡ã€éŸ“æ–‡ï¼‰
